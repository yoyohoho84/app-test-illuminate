(this["webpackJsonpapp-test-illuminate"]=this["webpackJsonpapp-test-illuminate"]||[]).push([[0],{269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);n(183),n(212),n(214),n(215),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254);var o=n(0),c=n(50),s=n.n(c),a=n(13),r=n.n(a),i=n(69),l=n(37),d=n.n(l),u=n(45),p=n(16),b=n(4),h=(n(268),n(299)),j=n(301),g=n.p+"static/media/1.bed5d3ca.png",x=n.p+"static/media/2.5e2cdc3a.png",f=n.p+"static/media/3.9c519285.png",m=n.p+"static/media/4.933fe8df.png",O=(n(269),n(270),n(271),7779768),w=(Number(new URLSearchParams(document.location.search).get("vk_user_id")),["https://sun9-53.userapi.com/impg/a0fyVA24dAiICnpg6PLuoHgcMZK__2DFSX4G7Q/Z_FAmvQLKw0.jpg?size=579x807&quality=96&sign=c68255377a84ad31deb7febde1b8de3e&type=album","https://sun9-47.userapi.com/impg/x_oqtb7YiGP_HOXrDO2JXKZO3j-KQrNV3ljglQ/ynuIGESmw1A.jpg?size=579x807&quality=96&sign=d19983049bf32c730d4e4393d7a74c1b&type=album","https://sun9-69.userapi.com/impg/U9DJKzK-47acYOdmECrd-_ytc2EqeHp_9GKyeg/_luMg3mwpUY.jpg?size=579x807&quality=96&sign=427c41da6c036a534436c9cb52e60e88&type=album","https://sun9-14.userapi.com/impg/1FFkrEFmyhtGEdN4UKQ2NTR-f3gkIU8w2QP7ag/Hj56c1053cI.jpg?size=579x807&quality=96&sign=39bcaaa1a19b821e3086b336e7d1eb8e&type=album"]),y=n(29),k=n.n(y);function _(e,t,n,o,c){switch(e){case"share-link":!function(){var e="https://vk.com/app".concat(O);r.a.send("VKWebAppShare",{link:e})}();break;case"copy-link":!function(e){var t="https://vk.com/app".concat(O);r.a.send("VKWebAppGetClientVersion").then((function(n){console.log(n.platform),"web"===n.platform||"mobile-web"===n.platform?window.navigator.clipboard.writeText(t).then((function(){console.log("successfully set",t),e("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}),(function(){console.log("write failed",t)})):(r.a.send("VKWebAppCopyText",{text:t}),e("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"))})).catch((function(e){console.log("error",e)}))}(t);break;case"story":!function(e){var t="https://vk.com/app".concat(O);r.a.send("VKWebAppShowStoryBox",{background_type:"image",url:e,attachment:{text:"go_to",type:"url",url:t}})}(o);break;case"story-task":!function(e,t,n){var o="https://vk.com/app".concat(O);r.a.send("VKWebAppShowStoryBox",{background_type:"image",url:e,attachment:{text:"go_to",type:"url",url:o}}).then((function(e){console.log("VKWebAppShowStoryBox res",e),n(!0),function(e){k.a.post("https://ods-studio.ru/illuminate/edit",{key:e,value:1}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}("stats.button3")})).catch((function(e){console.log("VKWebAppShowStoryBox err",e),t("\u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435","red"),n(!1)}))}(o,t,c);break;case"share-wall":!function(e,t){e.preventDefault();var n="https://vk.com/app".concat(O),o="".concat(t,",https://vk.com/app").concat(O),c="\u0423\u0437\u043d\u0430\u0439 \u0435\u0441\u043b\u0438 \u043d\u0435 \u0431\u043e\u0438\u0448\u044c\u0441\u044f! \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - ".concat(n);r.a.send("VKWebAppShowWallPostBox",{message:c,attachments:o})}(n,o)}}var v=function(e){k.a.post("https://ods-studio.ru/illuminate/edit",{key:e,value:1}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};function S(e,t,n){console.log("add group"),r.a.send("VKWebAppJoinGroup",{group_id:t}).then((function(e){var t=e.result;console.log("VKWebAppJoinGroup res",t),n(!0),v("stats.button1")})).catch((function(t){e("\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","red"),n(!1)}))}var A=[{id:1,question:"\u0412\u044b \u0441\u0442\u0430\u0440\u0448\u0435 18?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0421\u0442\u0430\u0440\u0448\u0435",answer_3:"\u041c\u043b\u0430\u0434\u0448\u0435",answer_4:"\u041c\u043d\u0435 18"},{id:2,question:"\u0423 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u0445\u043e\u0431\u0431\u0438?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"},{id:3,question:"\u0412\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"},{id:4,question:"\u041b\u044e\u0431\u0438\u0442\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442",answer_4:"\u041d\u0435\u0439\u0442\u0440\u0430\u043b\u044c\u043d\u043e"},{id:5,question:"\u041b\u0435\u0432\u0448\u0430 \u0438\u043b\u0438 \u043f\u0440\u0430\u0432\u0448\u0430?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u041b\u0435\u0432\u0448\u0430",answer_3:"\u041f\u0440\u0430\u0432\u0448\u0430"},{id:6,question:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043b\u044e\u0431\u043b\u0435\u043d\u043d\u044b\u0439(\u043a\u0440\u0430\u0448)?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"},{id:7,question:"\u0412\u044b \u0432\u0435\u0440\u0443\u044e\u0449\u0438\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442",answer_4:"50/50"},{id:8,question:"\u0412\u044b \u0431\u044b\u0432\u0430\u043b\u0438 \u043d\u0430 \u0433\u0440\u0430\u043d\u0438 \u0441\u043c\u0435\u0440\u0442\u0438? ( \u0422\u043e\u043d\u0443\u043b\u0438, \u0443\u0431\u0435\u0433\u0430\u043b\u0438 \u043e\u0442 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u043f\u043e\u043f\u0430\u0434\u0430\u043b\u0438 \u0432 \u0430\u0432\u0430\u0440\u0438\u044e \u0438 \u0442.\u0434 )",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"},{id:9,question:"\u0412\u0435\u0440\u0438\u0442\u0435 \u0432 \u0440\u0435\u0438\u043d\u043a\u0430\u0440\u043d\u0430\u0446\u0438\u044e ( \u0436\u0438\u0437\u043d\u044c \u043f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 )?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"},{id:10,question:"\u0423 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u0444\u043e\u0431\u0438\u0438?",answer_1:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",answer_2:"\u0414\u0430",answer_3:"\u041d\u0435\u0442"}],C=["\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0432\u043e\u0434\u044b","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u043c\u0430\u0448\u0438\u043d","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0432\u0440\u0435\u0434\u043d\u044b\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u043e\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0433\u0443\u043b\u043e\u043a","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u043e\u0432\u044b\u0445 \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432 ( \u0431\u0443\u0434\u044c\u0442\u0435 \u0431\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u0435\u0435 )","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044f","\u041e\u0441\u0442\u0435\u0440\u0435\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u0430\u043c\u043e\u043b\u0451\u0442\u043e\u0432"],I=["\u0418\u0432\u0430\u043d","\u0421\u0435\u0440\u0433\u0435\u0439","\u041d\u0438\u043a\u0438\u0442\u0430","\u0413\u043b\u0435\u0431","\u041a\u0438\u0440\u0438\u043b\u043b","\u0410\u043d\u0434\u0440\u0435\u0439","\u0413\u0435\u043e\u0440\u0433\u0438\u0439","\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440","\u0410\u043b\u0435\u043a\u0441\u0435\u0439","\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432","\u0418\u043b\u044c\u044f","\u0415\u0432\u0433\u0435\u043d\u0438\u0439","\u0415\u0433\u043e\u0440","\u041f\u0430\u0432\u0435\u043b","\u041e\u043b\u0435\u0433"],W=["\u0412 \u043c\u0430\u0448\u0438\u043d\u0435","\u0412 \u043a\u043b\u0443\u0431\u0435","\u0414\u043e\u043c\u0430","\u0412 \u043b\u0435\u0441\u0443","\u0412 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435","\u0412 \u043f\u043e\u0435\u0437\u0434\u0435","\u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0447\u043d\u043e\u0439","\u0412 \u0441\u0430\u0443\u043d\u0435","\u0412 \u043a\u0430\u043b\u044c\u044f\u043d\u043d\u043e\u0439"],G=["\u041d\u0430\u0441\u0442\u044f","\u0418\u0440\u0438\u043d\u0430","\u041a\u0430\u0442\u044f","\u041e\u043b\u044f","\u041b\u0435\u043d\u0430","\u0410\u043b\u0438\u043d\u0430","\u041b\u0435\u0439\u0441\u0430\u043d","\u0410\u043b\u0438\u043d\u0430","\u0413\u0443\u0437\u0435\u043b\u044c","\u0420\u0430\u044f","\u0410\u0434\u0430","\u041f\u043e\u043b\u0438\u043d\u0430","\u041c\u0438\u043b\u0430\u043d\u0430","\u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430","\u0412\u043b\u0430\u0434\u0430"],T=n(1),K=function(e){var t=e.question,n=e.answer_1,o=e.answer_2,c=e.answer_3,s=e.answer_4;return Object(T.jsx)(b.h,{top:t,children:Object(T.jsxs)(b.l,{children:[Object(T.jsx)("option",{value:"yes",children:n}),Object(T.jsx)("option",{value:"yes",children:o}),Object(T.jsx)("option",{value:"no",children:c}),s&&Object(T.jsx)("option",{value:"no",children:s})]})})},M=function(e){var t=e.id,n=(e.go,e.getRandomImg),o=(e.setIMGresult,e.setActivePanel),c=e.publishStories,s=e.getPlatform,a=e.gotToken,r=e.snackbar,i=e.fetchedUser,l=A.map((function(e,t){return Object(T.jsx)(K,{question:e.question,answer_1:e.answer_1,answer_2:e.answer_2,answer_3:e.answer_3,answer_4:e.answer_4},e.id)}));return Object(T.jsxs)(b.m,{id:t,children:[i&&[554966402,616935572,73606509].includes(i.id)?Object(T.jsx)(b.n,{left:Object(T.jsx)(T.Fragment,{children:i&&Object(T.jsx)(T.Fragment,{children:[554966402,616935572,73606509].includes(i.id)?Object(T.jsx)(b.d,{onClick:function(){return o("admin-panel")},style:{width:"150px",height:"30px",backgroundColor:"#ff6781",borderRadius:"15px",marginLeft:"10px"},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}):""})})}):"",Object(T.jsx)(b.f,{className:"web"===s?"imgPanelHomeWeb":"imgPanelHomeMobile",children:Object(T.jsxs)(b.i,{children:[l,Object(T.jsx)(b.h,{children:Object(T.jsx)(b.d,{onClick:function(){n(0,4),a&&c(),o("result-panel")},stretched:!0,style:{height:"60px",backgroundColor:"white",marginTop:"5px",borderRadius:"40px"},children:Object(T.jsx)("span",{style:{color:"black",fontSize:"20px"},children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})})})]})}),r]})},R=function(e){var t=e.id,n=(e.go,e.openAlert),o=e.setActivePanel,c=e.snackbar,s=e.getPlatform,a=e.fetchedUser;return Object(T.jsxs)(b.m,{id:t,children:[Object(T.jsx)(b.n,{left:Object(T.jsx)(T.Fragment,{children:a&&Object(T.jsx)(T.Fragment,{children:[441494361,73606509].includes(a.id)?Object(T.jsx)(b.d,{onClick:function(){return o("admin-panel")},style:{width:"150px",height:"30px",backgroundColor:"#165df5",borderRadius:"15px",marginLeft:"10px"},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}):""})})}),Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"150px"},children:["web"===s?Object(T.jsx)(b.f,{style:{fontWeight:"bold",fontSize:"25px",margin:"0px 10px 0px 10px"},children:"\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e?"}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.f,{style:{fontWeight:"bold",fontSize:"25px",margin:"0px 10px 0px 10px"},children:"\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430"}),Object(T.jsx)(b.f,{style:{fontWeight:"bold",fontSize:"25px",margin:"0px 10px 0px 10px"},children:"\u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e?"})]}),Object(T.jsx)(b.d,{onClick:function(){return S(n,o)},style:{width:"200px",height:"80px",backgroundColor:"#165df5",marginTop:"50px",borderRadius:"45px"},children:Object(T.jsx)("span",{style:{color:"white",fontSize:"20px"},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]}),c]})},V=n(51),P=n.n(V),U=n(41),L=function(e){var t=e.id,n=e.go,c=e.IMGresult,s=(e.openBase,e.getPlatform),a=e.openAlert,i=e.snackbar,l=e.fetchedUser,d=e.getGroupId,u=Object(o.useState)(!1),h=Object(p.a)(u,2),j=h[0],g=h[1],x=Object(o.useState)(!1),f=Object(p.a)(x,2),m=f[0],O=f[1],y=Object(o.useState)(!1),k=Object(p.a)(y,2),A=k[0],K=k[1],M=Object(o.useState)(C[Object(U.a)(0,C.length-1)]),R=Object(p.a)(M,2),V=R[0],L=(R[1],Object(o.useState)(I[Object(U.a)(0,I.length-1)])),z=Object(p.a)(L,2),q=z[0],D=(z[1],Object(o.useState)(G[Object(U.a)(0,G.length-1)])),F=Object(p.a)(D,2),E=F[0],N=(F[1],Object(o.useState)(W[Object(U.a)(0,W.length-1)])),B=Object(p.a)(N,2),H=B[0];B[1];Object(o.useEffect)((function(){setTimeout((function(){}),1e3)}),[]);return Object(T.jsxs)(b.m,{id:t,children:[Object(T.jsx)(b.n,{separator:!1,left:Object(T.jsxs)(b.f,{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row"},children:[Object(T.jsx)(b.f,{onClick:function(){return _("story",null,null,w[globalURLSharing.url])},style:{background:"linear-gradient(90deg, rgba(247,106,171,1) 0%, rgba(0,212,255,1) 100%)",borderRadius:"9px",marginLeft:"10px",fontSize:"14px",height:"28px",width:"170px",color:"white",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none"},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),Object(T.jsx)(b.f,{})]})}),Object(T.jsx)(b.f,{className:"web"===s?"ResultPanelWeb":"ResultPanelMobile",style:{paddingBottom:"20px"},children:Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[c,Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"300px"},children:[Object(T.jsx)(b.f,{style:{color:"white",fontSize:"15px",fontWeight:"bold"},children:"\u041f\u0420\u0418\u0427\u0418\u041d\u0410 \u0421\u041c\u0415\u0420\u0422\u0418"}),Object(T.jsxs)(b.f,{children:[" ",Object(T.jsx)(b.d,{getGroupId:!0,onClick:function(){S(a,2===l.sex?d.subM:d.subW,g)},style:{width:"60px",height:"20px",backgroundColor:"white",marginTop:"5px",borderRadius:"10px"},children:Object(T.jsx)("span",{style:{color:"black",fontSize:"13px",fontWeight:"bold"},children:"\u0423\u0437\u043d\u0430\u0442\u044c"})})]})]}),j&&Object(T.jsx)(P.a,{left:!0,duration:3e3,children:Object(T.jsx)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"300px",height:"60px",border:"solid white 1px",borderRadius:"15px",margin:"8px",color:"white",backgroundColor:"rgba(255, 255, 255, 0.3)"},children:V})}),Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"300px"},children:[Object(T.jsx)(b.f,{style:{color:"white",fontSize:"15px",fontWeight:"bold"},children:"\u0418\u041c\u042f \u0421\u0423\u0416\u0415\u041d\u041e\u0413\u041e"}),Object(T.jsxs)(b.f,{children:[" ",Object(T.jsx)(b.d,{onClick:function(){!function(e,t,n){r.a.send("VKWebAppAllowMessagesFromGroup",{group_id:t}).then((function(e){n(!0),v("stats.button2")})).catch((function(t){e("\u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u0433\u0440\u0443\u043f\u043f\u044b","red"),n(!1)}))}(a,2===l.sex?d.msgM:d.msgW,O)},style:{width:"60px",height:"20px",backgroundColor:"white",marginTop:"5px",borderRadius:"10px"},children:Object(T.jsx)("span",{style:{color:"black",fontSize:"13px",fontWeight:"bold"},children:"\u0423\u0437\u043d\u0430\u0442\u044c"})})]})]}),m&&Object(T.jsx)(P.a,{right:!0,duration:3e3,children:Object(T.jsx)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"300px",height:"30px",border:"solid white 1px",borderRadius:"15px",margin:"8px",color:"white",backgroundColor:"rgba(255, 255, 255, 0.3)"},children:2===l.sex?E:q})}),Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"300px"},children:[Object(T.jsx)(b.f,{style:{color:"white",fontSize:"15px",fontWeight:"bold"},children:"\u041c\u0415\u0421\u0422\u041e \u041f\u0415\u0420\u0412\u041e\u0413\u041e/\u0421\u041b\u0415\u0414\u0423\u042e\u0429\u0415\u0413\u041e \u0421\u0415\u041a\u0421\u0410"}),Object(T.jsxs)(b.f,{children:[" ",Object(T.jsx)(b.d,{onClick:function(){_("story-task",a,null,w[globalURLSharing.url],K)},style:{width:"60px",height:"20px",backgroundColor:"white",marginTop:"5px",borderRadius:"10px"},children:Object(T.jsx)("span",{style:{color:"black",fontSize:"13px",fontWeight:"bold"},children:"\u0423\u0437\u043d\u0430\u0442\u044c"})})]})]}),A&&Object(T.jsx)(P.a,{left:!0,duration:3e3,children:Object(T.jsx)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"300px",height:"30px",border:"solid white 1px",borderRadius:"15px",margin:"8px",color:"white",backgroundColor:"rgba(255, 255, 255, 0.3)"},children:H})}),Object(T.jsx)(b.f,{children:Object(T.jsx)(b.d,{onClick:n,"data-to":"home",style:{width:"300px",height:"40px",backgroundColor:"white",marginTop:"5px",borderRadius:"10px"},children:Object(T.jsx)("span",{style:{color:"black",fontSize:"15px",fontWeight:"bold"},children:"\u041f\u0440\u043e\u0439\u0442\u0438 \u0435\u0449\u0435 \u0440\u0430\u0437"})})})]})}),i]})},z=function(e){var t=e.go,n=e.id,c=e.openAlert,s=e.snackbar,a=e.getButtonStats,r=e.getStats,i=Object(o.useState)(""),l=Object(p.a)(i,2),d=l[0],u=l[1],h=Object(o.useState)(""),j=Object(p.a)(h,2),g=j[0],x=j[1],f=Object(o.useState)(""),m=Object(p.a)(f,2),O=m[0],w=m[1],y=Object(o.useState)(""),_=Object(p.a)(y,2),v=_[0],S=_[1],A=Object(o.useState)("man"),C=Object(p.a)(A,2),I=C[0],W=C[1],G={"woman-added-group":O,"woman-group-mailing":v,"man-added-group":d,"man-group-mailing":g},K={"woman-added-group":"links.subW","woman-group-mailing":"links.msgW","man-added-group":"links.subM","man-group-mailing":"links.msgM"};return Object(T.jsxs)(b.m,{id:n,children:[Object(T.jsx)(D,{go:t,tab:function(e){switch(e){case"man":case"woman":case"stats":W(e)}},activeTab:I,getStats:r}),Object(T.jsx)(F,{activeTab:I,onChangeAction:function(e,t){var n=e.target.value.trim();switch(t){case"woman-added-group":w(n);break;case"woman-group-mailing":S(n);break;case"man-added-group":console.log("man-added-group:",n),u(n);break;case"man-group-mailing":console.log("man-group-mailing:",n),x(n)}},editLinkGroupMan:function(e){k.a.post("https://ods-studio.ru/illuminate/edit",{key:K[e],value:G[e]}).then((function(e){console.log(e),"ok"===e.data?c("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443"):c("\u0412\u044b \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443","red")})).catch((function(e){console.log(e)}))},NAME_PROJECT:"ILLUMINATE",manAddedGroupId:d,manGroupMailingId:g,womanAddedGroupId:O,womanGroupMailingId:v,getButtonStats:a}),s]})},q=n(300),D=function(e){var t=e.go,n=e.tab,o=e.activeTab,c=e.getStats;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.n,{left:Object(T.jsx)(b.o,{onClick:t,"data-to":"home"}),right:Object(T.jsx)(b.p,{children:Object(T.jsx)(q.a,{width:20,height:20,color:"red"})}),children:Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(T.jsx)("h2",{children:" \u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(T.jsx)(b.p,{onClick:c,children:Object(T.jsx)(q.a,{fill:"#60c5f0"})})]})}),Object(T.jsx)(b.g,{vertical:"top",filled:!0,children:Object(T.jsxs)(b.r,{children:[Object(T.jsx)(b.s,{onClick:function(){n("man")},selected:"man"===o,children:"\u0421\u0441\u044b\u043b\u043a\u0438 \u0434\u043b\u044f \u043c\u0443\u0436\u0447\u0438\u043d"}),Object(T.jsx)(b.s,{onClick:function(){n("woman")},selected:"woman"===o,children:"\u0421\u0441\u044b\u043b\u043a\u0438 \u0434\u043b\u044f \u0436\u0435\u043d\u0449\u0438\u043d"}),Object(T.jsx)(b.s,{onClick:function(){n("stats")},selected:"stats"===o,children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]})})]})},F=function(e){var t=e.activeTab,n=e.onChangeAction,o=e.editLinkGroupMan,c=(e.manAddedGroupId,e.manGroupMailingId,e.womanAddedGroupId,e.womanGroupMailingId,e.getButtonStats);return Object(T.jsx)(b.f,{children:"man"===t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(b.i,{separator:"hide",style:{margin:"55px 20px 0px 20px"},header:Object(T.jsx)(b.j,{mode:"secondary",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443"}),children:[Object(T.jsx)(b.k,{onChange:function(e){return n(e,"man-added-group")},type:"text"}),Object(T.jsx)(b.d,{style:{backgroundColor:"#165df5",color:"white",marginTop:"10px",height:" 35px"},onClick:function(){return o("man-added-group")},mode:"commerce",size:"xl",stretched:!0,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(T.jsxs)(b.i,{style:{margin:"20px 20px 0px 20px"},header:Object(T.jsx)(b.j,{mode:"secondary",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443"}),children:[Object(T.jsx)(b.k,{onChange:function(e){return n(e,"man-group-mailing")},type:"text"}),Object(T.jsx)(b.d,{style:{backgroundColor:"#165df5",color:"white",marginTop:"10px",height:" 35px"},onClick:function(){return o("man-group-mailing")},mode:"commerce",size:"xl",stretched:!0,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}):"woman"===t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(b.i,{separator:"hide",style:{margin:"55px 20px 0px 20px"},header:Object(T.jsx)(b.j,{mode:"secondary",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443"}),children:[Object(T.jsx)(b.k,{onChange:function(e){return n(e,"woman-added-group")},type:"text"}),Object(T.jsx)(b.d,{style:{backgroundColor:"#ff6781",color:"white",marginTop:"10px",height:" 35px"},onClick:function(){return o("woman-added-group")},mode:"commerce",size:"xl",stretched:!0,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(T.jsxs)(b.i,{style:{margin:"20px 20px 0px 20px"},header:Object(T.jsx)(b.j,{mode:"secondary",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443"}),children:[Object(T.jsx)(b.k,{onChange:function(e){return n(e,"woman-group-mailing")},type:"text"}),Object(T.jsx)(b.d,{style:{backgroundColor:"#ff6781",color:"white",marginTop:"10px",height:" 35px"},onClick:function(){return o("woman-group-mailing")},mode:"commerce",size:"xl",stretched:!0,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}):Object(T.jsxs)(b.i,{separator:"hide",style:{margin:"55px 40px 0px 40px",backgroundColor:"#60c5f0",borderRadius:"10px",padding:"10px"},children:[Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(T.jsx)(b.f,{children:"\u041f\u0420\u0418\u0427\u0418\u041d\u0410 \u0421\u041c\u0415\u0420\u0422\u0418:"}),Object(T.jsx)(b.f,{children:null===c||void 0===c?void 0:c.button1})]}),Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"20px"},children:[Object(T.jsx)(b.f,{children:"\u0418\u041c\u042f \u0421\u0423\u0416\u0415\u041d\u041e\u0413\u041e :"}),Object(T.jsx)(b.f,{children:null===c||void 0===c?void 0:c.button2})]}),Object(T.jsxs)(b.f,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"20px"},children:[Object(T.jsx)(b.f,{children:"\u041c\u0415\u0421\u0422\u041e \u041f\u0415\u0420\u0412\u041e\u0413\u041e/\u0421\u041b\u0415\u0414\u0423\u042e\u0429\u0415\u0413\u041e \u0421\u0415\u041a\u0421\u0410:"}),Object(T.jsx)(b.f,{children:null===c||void 0===c?void 0:c.button3})]})]})})};window.globalURLSharing={url:0};var E=function(){var e=Object(o.useState)("home"),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(o.useState)(null),a=Object(p.a)(s,2),l=a[0],y=a[1],v=Object(o.useState)(),S=Object(p.a)(v,2),A=S[0],C=S[1],I=Object(o.useState)(null),W=Object(p.a)(I,2),G=W[0],K=W[1],V=Object(o.useState)(null),P=Object(p.a)(V,2),q=P[0],D=(P[1],Object(o.useState)(null)),F=Object(p.a)(D,2),E=F[0],N=F[1],B=Object(o.useState)(null),H=Object(p.a)(B,2),J=H[0],Q=H[1],X=Object(o.useState)(""),Y=Object(p.a)(X,2),Z=Y[0],$=Y[1],ee=Object(o.useState)(""),te=Object(p.a)(ee,2),ne=te[0],oe=te[1],ce=Object(o.useState)(!1),se=Object(p.a)(ce,2),ae=se[0],re=se[1],ie=Object(o.useState)({}),le=Object(p.a)(ie,2),de=le[0],ue=le[1],pe=Object(o.useState)({}),be=Object(p.a)(pe,2),he=be[0],je=be[1];Object(o.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,y(t),C(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.subscribe((function(e){var t=e.detail,n=t.type,o=t.data;if("VKWebAppUpdateConfig"===n){var c=document.createAttribute("scheme");c.value=o.scheme?o.scheme:"client_light",document.body.attributes.setNamedItem(c)}})),function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){var e;!function(e,t){r.a.send("VKWebAppGetAuthToken",{app_id:O,scope:"friends,wall,photos, stories"}).then((function(n){console.log("VKWebAppGetAuthToken res:",n),e(n.access_token),t(!0)})).catch((function(n){r.a.send("VKWebAppGetAuthToken",{app_id:O,scope:"friends,wall,photos, stories"}).then((function(n){console.log("VKWebAppGetAuthToken response:",n),e(n.access_token),t(!0)})).catch((function(e){console.log("VKWebAppGetAuthToken error:",e)})),console.log("VKWebAppGetAuthToken err:",n)}))}($,re),e=203421564,r.a.send("VKWebAppAllowMessagesFromGroup",{group_id:e}).then((function(e){})).catch((function(t){r.a.send("VKWebAppAllowMessagesFromGroup",{group_id:e}).then((function(e){})).catch((function(e){}))}))}),[]),Object(o.useEffect)((function(){r.a.send("VKWebAppGetClientVersion").then((function(e){oe(e.platform),console.log("result.platform",ne)})).catch((function(e){return console.log(e)}))}),[]);var ge=function(){k.a.get("https://ods-studio.ru/illuminate/get").then((function(e){console.log(e.data),ue(e.data.links),je(e.data.stats)})).catch((function(e){console.log(e)}))};function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green";J||Q(Object(T.jsx)(b.q,{duration:"12000",layout:"horizontal",onClose:function(){return Q(null)},before:Object(T.jsx)(b.c,{size:24,style:{backgroundColor:t},children:"green"===t?Object(T.jsx)(h.a,{fill:"#fff",width:14,height:14}):Object(T.jsx)(j.a,{fill:"#fff",width:14,height:14})}),children:e}))}Object(o.useEffect)((function(){ge()}),[]);var fe=function(e){c(e.currentTarget.dataset.to)};return Object(T.jsx)(b.e,{isWebView:!0,children:Object(T.jsxs)(b.t,{activePanel:n,popout:A,modal:E,children:[Object(T.jsx)(M,Object(i.a)({id:"home",fetchedUser:l,go:fe,setIMGresult:K,getRandomImg:function(e,t){e=Math.ceil(e),t=Math.floor(t);var n=Math.floor(Math.random()*(t-e))+e;globalURLSharing.url=n,K(Object(T.jsx)(b.f,{className:"icon".concat(n)}))},setActivePanel:c,publishStories:function(){var e;r.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:"ILLUMINATE TEST",description:"\u0423\u0437\u043d\u0430\u0439 \u0434\u0430\u0442\u0443 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0441\u0435\u043a\u0441\u0430, \u0441\u0432\u0430\u0434\u044c\u0431\u044b \u0438 \u0441\u043c\u0435\u0440\u0442\u0438, \u043f\u0440\u043e\u0439\u0434\u044f \u0442\u0435\u0441\u0442 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \ud83d\ude05\n          \u0417\u043f\u0443\u0441\u043a\u0430\u0439 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \ud83d\udc47\n          https://vk.com/app".concat(O),v:5.21,access_token:Z}}).then((function(t){console.log("photos.createAlbum r.response.id:",t.response.id),e=t.response.id,r.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:e,v:5.21,access_token:Z}}).then(function(){var t=Object(u.a)(d.a.mark((function t(n){var o,c,s,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("photos.getUploadServer res:",n),o=[g,x,f,m][Object(U.a)(0,3)],t.next=4,fetch(o);case 4:return t.next=6,t.sent.blob();case 6:return c=t.sent,(s=new FormData).append("file",c,"image.png"),"https://proxy.ods-studio.ru",t.next=12,k()({method:"post",url:"".concat("https://proxy.ods-studio.ru","/").concat(n.response.upload_url),data:s,headers:{"Content-Type":"multipart/form-data"}});case 12:a=t.sent,i=a.data,r.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:e,v:5.21,access_token:Z,hash:i.hash,photos_list:i.photos_list,server:i.server,caption:"\u0423\u0437\u043d\u0430\u0439 \u0434\u0430\u0442\u0443 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0441\u0435\u043a\u0441\u0430, \u0441\u0432\u0430\u0434\u044c\u0431\u044b \u0438 \u0441\u043c\u0435\u0440\u0442\u0438, \u043f\u0440\u043e\u0439\u0434\u044f \u0442\u0435\u0441\u0442 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \ud83d\ude05\n                  \u0417\u043f\u0443\u0441\u043a\u0430\u0439 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \ud83d\udc47\n                  https://vk.com/app".concat(O)}}).then((function(e){console.log("photos.save response:",e)})).catch((function(e){console.log("photos.save error:",e)}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log("photos.getUploadServer err:",e)}))})).catch((function(e){console.log("photos.createAlbum err:",e)}))},getPlatform:ne,gotToken:ae,openAlert:xe,snackbar:J},"fetchedUser",l)),Object(T.jsx)(R,Object(i.a)({id:"default-panel",fetchedUser:l,go:fe,openAlert:xe,setActivePanel:c,snackbar:J,getPlatform:ne},"fetchedUser",l)),Object(T.jsx)(L,{id:"result-panel",fetchedUser:l,go:fe,IMGresult:G,urlSharing:q,openBase:function(){N(null),C(Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(b.a,{onClose:function(){return C(null)},children:[Object(T.jsx)(b.b,{autoclose:!0,onClick:function(){return _("share-link",null,null,APP_IMG_SHARING_WALL[globalURLSharing.url])},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439"}),Object(T.jsx)(b.b,{autoclose:!0,onClick:function(){return _("copy-link",xe,null,APP_IMG_SHARING_WALL[globalURLSharing.url])},children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}),Object(T.jsx)(b.b,{autoclose:!0,onClick:function(){return _("story",null,null,w[globalURLSharing.url])},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"}),Object(T.jsx)(b.b,{autoclose:!0,onClick:function(e){return _("share-wall",null,e,APP_IMG_SHARING_WALL[globalURLSharing.url])},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"})]})}))},getPlatform:ne,openAlert:xe,snackbar:J,getGroupId:de}),Object(T.jsx)(z,{id:"admin-panel",fetchedUser:l,go:fe,openAlert:xe,snackbar:J,getButtonStats:he,getStats:ge})]})})};r.a.send("VKWebAppInit"),s.a.render(Object(T.jsx)(E,{}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.8f999e41.chunk.js.map